---
layout: splash
title: 2. Kubernetes & Istio ì„¤ì¹˜ ë° ì‹œì‘í•´ë³´ê¸° (2.1 Kubernetes ì„¤ì¹˜ ê°€ì´ë“œ))
date: '2019-03-03 08:26:28 -0400'
categories: istio
tags:
  - istio
  - install
---

# 2.2.1.2 Minikube ì„¤ì¹˜ ê°€ì´ë“œ

Minikube ì„¤ì¹˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ì„¤ì¹˜ë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.

1. ê°€ìƒí™” ì§€ì› ì—¬ë¶€ ì²´í¬
2. í•˜ì´í¼ë°”ì´ì €\(Hypervisor\) ì„¤ì¹˜
3. kubectl ì„¤ì¹˜
4. minikube ì„¤ì¹˜
5. minikube ì‹œì‘í•˜ê¸°

## ê°€ìƒí™” ì§€ì› ì—¬ë¶€ ì²´í¬

minikubeë¥¼ ì„¤ì¹˜í•  ì»´í“¨í„°\(ë…¸íŠ¸ë¶ ë˜ëŠ” ì„œë²„\)ì˜ ë°”ì´ì˜¤ìŠ¤\(BIOS\)ì— VT-x ë˜ëŠ” AMD-v ê°€ìƒí™”ê°€ í™œì„±í™” ì—¬ë¶€ë¥¼ ì²´í¬í•´ì•¼ í•©ë‹ˆë‹¤. OS ë³„ë¡œ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•˜ì—¬ ì¶œë ¥ ê²°ê³¼ê°’ì´ ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

### Linux

Linuxì—ì„œ ê°€ìƒí™” ì§€ì› ì—¬ë¶€ë¥¼ í™•ì¸í•˜ë ¤ë©´, ì•„ë˜ì˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê³  ì¶œë ¥ì´ ë¹„ì–´ìˆì§€ ì•Šì€ì§€ í™•ì¸í•©ë‹ˆë‹¤.

```text
egrep --color 'vmx|svm' /proc/cpuinfo
```

### OSX

Mac OSXì—ì„œ ê°€ìƒí™” ì§€ì› ì—¬ë¶€ë¥¼ í™•ì¸í•˜ë ¤ë©´, ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í„°ë¯¸ë„ì—ì„œ ì‹¤í–‰í•˜ì—¬ **VMX** ê°’ ì¶œë ¥ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

```text
sysctl -a | grep -E --color 'machdep.cpu.features|VMX'

machdep.cpu.features: FPU VME DE PSE TSC MSR PAE MCE CX8 APIC SEP MTRR PGE MCA
CMOV PAT PSE36 CLFSH DS ACPI MMX FXSR SSE SSE2 SS HTT TM PBE SSE3 PCLMULQDQ
DTES64 MON DSCPL VMX SMX EST TM2 SSSE3 FMA CX16 TPR PDCM SSE4.1 SSE4.2 x2APIC
MOVBE POPCNT AES PCID XSAVE OSXSAVE SEGLIM64 TSCTMR AVX1.0 RDRAND F16C
```

### Window

ìœˆë„ìš° 8 ì´í›„ ë²„ì „ì—ì„œ ê°€ìƒí™” ì§€ì› ì—¬ë¶€ë¥¼ í™•ì¸í•˜ë ¤ë©´, ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ìœˆë„ìš° í„°ë¯¸ë„ì´ë‚˜ ëª…ë ¹ í”„ë¡¬í”„íŠ¸ì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.

```text
  systeminfo
```

ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ë¬¼ì´ ë‚˜ì˜¨ë‹¤ë©´ ìœˆë„ìš°ì—ì„œ ê°€ìƒí™”ë¥¼ ì§€ì›í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```text
  Hyper-V Requirements:   VM Monitor Mode Extensions: Yes
                          Virtualization Enabled In Firmware: Yes
                          Second Level Address Translation: Yes
                          Data Execution Prevention Available: Yes
```

## Minikube ì„¤ì¹˜

Minikubeë¥¼ ì„¤ì¹˜í•˜ê¸° ì „ì— í•˜ì´í¼ë°”ì´ì € ì„¤ì¹˜ê°€ ë¨¼ì € í•„ìš”í•©ë‹ˆë‹¤. í•˜ì´í¼ë°”ì´ì €ëŠ” í˜¸ìŠ¤íŠ¸ ë¨¸ì‹ ì— ë‹¤ìˆ˜ì˜ ìš´ì˜ì²´ì œ\(ìœˆë„ìš°, ë¦¬ëˆ…ìŠ¤ ë“±..\)ë¥¼ ë™ì‹œì— ì‹¤í–‰í•˜ê¸° ìœ„í•œ ë…¼ë¦¬ì ì¸ í”Œë«í¼ ì…ë‹ˆë‹¤. í•˜ì´í¼ë°”ì´ì €ë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì•˜ë‹¤ë©´, ê° ìš´ì˜ì²´ì œì— ì í•©í•œ í•˜ì´í¼ë°”ì´ì €ë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤. OS ë³„ ì§€ì›í•˜ëŠ” í•˜ì´í¼ë°”ì´ì €ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤. ëª¨ë“  OS ì—ì„œ VirtualBox ë¥¼ ì§€ì›í•˜ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œëŠ” í•˜ì´í¼ë°”ì´ì €ë¡œ VirtualBox ë¥¼ ì´ìš©í•˜ì—¬ minikube ì„¤ì¹˜ë¥¼ ì§„í–‰í•˜ê² ìŠµë‹ˆë‹¤.

* Mac OS: [VirtualBox](https://www.virtualbox.org/wiki/Downloads), [VMWare Fusion](https://www.vmware.com/products/fusion.html), [HyperKit](https://github.com/moby/hyperkit)
* Linux: [VirtualBox](https://www.virtualbox.org/wiki/Downloads), [KVM](http://www.linux-kvm.org/)
* Window: [VirtualBox](https://www.virtualbox.org/wiki/Downloads), [Hyper-V](https://docs.microsoft.com/ko-kr/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v)

![&#xD558;&#xC774;&#xD37C;&#xBC14;&#xC774;&#xC800;](../../../.gitbook/assets/image%20%2845%29.png)

ì°¸ê³ ë¡œ Minikube VM ë“œë¼ì´ë¸Œë¥¼ --vm-driver=virtualbox&lt;driver name&gt; í”Œë˜ê·¸ ì˜µì…˜ ì„¤ì •ì„ í†µí•´ ì„¤ì • ê°€ëŠ¥í•©ë‹ˆë‹¤. Minikubeì—ì„œ ì§€ì›í•˜ëŠ” ë“œë¼ì´ë²„ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

* virtualbox
* vmwarefusion
* kvm2 \([driver installation\)](https://github.com/kubernetes/minikube/blob/master/docs/drivers.md#kvm2-driver)
* hyperkit \([driver installation](https://github.com/kubernetes/minikube/blob/master/docs/drivers.md#hyperkit-driver)\)
* hyperv \([driver installation](https://github.com/kubernetes/minikube/blob/master/docs/drivers.md#hyperv-driver)\)
* vmware \([driver installation](https://github.com/kubernetes/minikube/blob/master/docs/drivers.md#vmware-unified-driver)\)
* none \(MinikubeëŠ” ì¿ ë²„ë„¤í‹°ìŠ¤ ì»´í¬ë„ŒíŠ¸ë¥¼ VMì´ ì•„ë‹Œ í˜¸ìŠ¤íŠ¸ì—ì„œë„ ë™ì‘í•˜ë¡ --vm-driver=none ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤. ì´ ë“œë¼ì´ë²„ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” Dockerì™€ ë¦¬ëˆ…ìŠ¤ í™˜ê²½ì„ í•„ìš”ë¡œ í•©ë‹ˆë‹¤.\)

ë…ìë¶„ì˜ OS í™˜ê²½ì— ë§ê²Œ í•„ìš”í•œ í•˜ì´í¼ë°”ì´ì €ë¥¼ ì„¤ì¹˜í•˜ê³ , --vm-driver ì˜µì…˜ì„ ì„¤ì •í•˜ì—¬ ì‹¤í–‰ ê°€ëŠ¥ í•©ë‹ˆë‹¤. minikubeëŠ” ë‹¤ì–‘í•œ í•˜ì´í¼ë°”ì´ì €ë¥¼ ì§€ì›í•˜ì§€ë§Œ, ë³¸ ì±…ì—ì„œëŠ” ê°€ì¥ ì‰½ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” virtualbox ë¥¼ ê¸°ë°˜ìœ¼ë¡œ minikubeë¥¼ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤. ê° OSë³„ íŒ¨ìºì§€ ê´€ë¦¬ ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ virtuaboxë¥¼ ì‰½ê²Œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### Linux \(CentOS/RHEL\)

#### í•˜ì´í¼ë°”ì´ì €\(Virtualbox\) ì„¤ì¹˜

Linux í™˜ê²½ì—ì„œ yum íŒ¨í‚¤ì§€ ë„êµ¬ë¥¼ ì´ìš©í•˜ì—¬ Virtualbox ì„¤ì¹˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```text
# ì»¤ë„í—¤ë” ë° ê°œë°œë„êµ¬ ì„¤ì¹˜
$ yum install -y kernel-devel kernel-headers gcc make perl

# wget íŒ¨í‚¤ì§€ ì„¤ì¹˜
$ yum install -y kernel-devel kernel-headers gcc make perl

# ì˜¤ë¼í´ ê³µê°œí‚¤ ë‹¤ìš´ë¡œë“œ í›„ ì„í¬íŠ¸
$ wget https://www.virtualbox.org/download/oracle_vbox.asc
$ rpm --import oracle_vbox.asc

# CentOS/RHEL VirtualBox ë ˆíŒŒì§€í† ë¦¬ ë‹¤ìš´ë¡œë‘ í›„ /etc/yum.repos.d/ ë””ë ‰í† ë¦¬ë¡œ ì´ë™í•˜ì—¬ ë³µì‚¬
$ wget http://download.virtualbox.org/virtualbox/rpm/el/virtualbox.repo -O /etc/yum.repos.d/virtualbox.repo

# virtualbox.repo íŒŒì¼ ë‚´ìš© í™•ì¸
[virtualbox]
name=Oracle Linux / RHEL / CentOS-$releasever / $basearch - VirtualBox
baseurl=http://download.virtualbox.org/virtualbox/rpm/el/$releasever/$basearch
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://www.virtualbox.org/download/oracle_vbox.asc

# Virtualbox-6.0 ì„¤ì¹˜
$ sudo yum install -y VirtualBox-6.0

# VirtualBox ì‹¤í–‰ì—¬ë¶€ í™•ì¸ì„ ìœ„í•œ ìƒíƒœ í™•ì¸
$ sudo systemctl status vboxdrv
â— vboxdrv.service - VirtualBox Linux kernel module
   Loaded: loaded (/usr/lib/virtualbox/vboxdrv.sh; enabled; vendor preset: disabled)
   Active: active (exited) since Sun 2018-12-23 09:13:15 IST; 41min ago
  Process: 57159 ExecStart=/usr/lib/virtualbox/vboxdrv.sh start (code=exited, status=0/SUCCESS)
    Tasks: 0
```

Minikube ë¦¬ëˆ…ìŠ¤\(AMD64\) íŒ¨í‚¤ì§€ëŠ” Githubì˜ Minikube [ë¦´ë¦¬ì¦ˆ](https://github.com/kubernetes/minikube/releases)ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ì í•  íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê¸° ìœ„í•´ ë¦¬ëˆ…ìŠ¤ ë°°í¬íŒì˜ yum íŒ¨í‚¤ì§€ ë„êµ¬ë¥¼ ì´ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ì—¬ê¸°ì„œëŠ” Minikubeë¥¼ ì§ì ‘ ë‹¤ìš´ë¡œë“œ í•˜ì—¬ ì„¤ì¹˜í•©ë‹ˆë‹¤.

#### Minikube ì„¤ì¹˜

ì•„ë˜ download linkë¥¼ í†µí•´ Minikube ë‹¤ìš´ë¡œë“œ í•©ë‹ˆë‹¤.

```text
curl -Lo minikube https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64 \
  && chmod +x minikube
```

Minikube ì‹¤í–‰ íŒŒì¼ì„ ì‚¬ìš©ì ì‹¤í–‰ ê²½ë¡œì— ì¶”ê°€í•©ë‹ˆë‹¤.

```text
sudo mkdir -p /usr/local/bin/
sudo install minikube /usr/local/bin/
```

### MacOS

#### Homebrew ì„¤ì¹˜

MacOSì— [Homebrew](https://brew.sh/index_ko)ê°€ ì„¤ì¹˜ë˜ì–´ìˆì§€ ì•Šë‹¤ë©´ í„°ë¯¸ë„ì„ ì—´ê³  ì•„ë˜ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì„¤ì¹˜ë¥¼ ë¨¼ì € ì§„í–‰í•©ë‹ˆë‹¤.

```text
/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

#### í•˜ì´í¼ë°”ì´ì €\(Virtualbox\) ì„¤ì¹˜

brew ëª…ë ¹ì–´ë¥¼ í†µí•´ virtualboxë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```text
brew install cask
brew cask install virtualbox
```

#### Minikube ì„¤ì¹˜

brew ëª…ë ¹ì–´ë¥¼ í†µí•´ minikubeë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

```text
brew install minikube
```

### Window

#### í•˜ì´í¼ë°”ì´ì €\(Virtualbox\) ì„¤ì¹˜

[Virtualbox](https://www.virtualbox.org/wiki/Downloads) í™ˆí˜ì´ì§€ì—ì„œ Windows hosts ìš©ì„ ë‹¤ìš´ë¡œë“œ ë°›ì€ í›„ ì„¤ì¹˜í•©ë‹ˆë‹¤.

{% hint style="info" %}
Hyper-V ì˜ ê²½ìš° ìœˆë„ìš° 10ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.  
Windows 10 Enterprise, Windows 10 Professional, Windows 10 Education.
{% endhint %}

#### Minikube ì„¤ì¹˜

[Minikube Installer](https://github.com/kubernetes/minikube/releases/latest/download/minikube-installer.exe) ì‹¤í–‰ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ê³ , Installerë¥¼ ì‹¤í–‰í•˜ì—¬ Minikubeë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

### Minikube ì„¤ì¹˜ í™•ì¸

#### Minikube ì‹¤

í•˜ì´í¼ë°”ì´ì €ì™€ Minikubeì˜ ì„±ê³µì ì¸ í™•ì¸ì„ ìœ„í•´ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```text
minikube start --vm-driver=virtualbox

(âˆ |N/A:N/A) ~ î‚° minikube start --vm-driver=hyperkit
ğŸ˜„  minikube v1.17.1 on Darwin 11.2.1
âœ¨  Using the hyperkit driver based on user configuration
ğŸ’¾  Downloading driver docker-machine-driver-hyperkit:
    > docker-machine-driver-hyper...: 65 B / 65 B [----------] 100.00% ? p/s 0s
    > docker-machine-driver-hyper...: 11.44 MiB / 11.44 MiB  100.00% 6.46 MiB p
ğŸ”‘  The 'hyperkit' driver requires elevated permissions. The following commands will be executed:

    $ sudo chown root:wheel /Users/sysmoon/.minikube/bin/docker-machine-driver-hyperkit
    $ sudo chmod u+s /Users/sysmoon/.minikube/bin/docker-machine-driver-hyperkit


ğŸ’¿  Downloading VM boot image ...
    > minikube-v1.17.0.iso.sha256: 65 B / 65 B [-------------] 100.00% ? p/s 0s
    > minikube-v1.17.0.iso: 212.69 MiB / 212.69 MiB [] 100.00% 9.52 MiB p/s 22s
ğŸ‘  Starting control plane node minikube in cluster minikube
ğŸ’¾  Downloading Kubernetes v1.20.2 preload ...
    > preloaded-images-k8s-v8-v1....: 491.22 MiB / 491.22 MiB  100.00% 23.28 Mi
ğŸ”¥  Creating hyperkit VM (CPUs=2, Memory=4000MB, Disk=20000MB) ...
ğŸ³  Preparing Kubernetes v1.20.2 on Docker 20.10.2 ...
    â–ª Generating certificates and keys ...
    â–ª Booting up control plane ...
    â–ª Configuring RBAC rules ...
ğŸ”  Verifying Kubernetes components...
ğŸŒŸ  Enabled addons: storage-provisioner, default-storageclass
ğŸ„  Done! kubectl is now configured to use "minikube" cluster and "default" namespace by default
```

#### Minikube ìƒíƒœ í™•ì¸ 

minikube start ëª…ë ¹ì–´ ì‹¤í–‰ì´ ì•ˆë£Œë˜ë©´, ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ì˜ ìƒíƒœ í™•ì¸ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```text
minikube status
```

Minikubeê°€ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì—ˆë‹¤ë©´, minikube status ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```text
host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured
```

## kubectl ì„¤ì¹˜

ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„°ì— ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±, ìˆ˜ì •, ì‚­ì œ í•˜ê¸° ìœ„í•´ Kubernetes APIë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. kubectlì€ CLI\(ì»¤ë§¨ë“œ-ë¼ì¸ ì¸í„°í˜ì´ìŠ¤\)ë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ìê°€ í•„ìš”ë¡œ í•˜ëŠ” APIë¥¼ ëŒ€ì‹  í˜¸ì¶œí•˜ì—¬ ì›í•˜ëŠ” ë™ì‘ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. ê° OSë³„ kubectl ì„¤ì¹˜ë°©ë²•ì„ ì†Œê°œí•˜ê² ìŠµë‹ˆë‹¤.

### Linux

#### ìˆ˜ë™ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì„¤ì¹˜ë°©

kubectl ë§ˆì§€ë§‰ ë¦´ë¦¬ìŠ¤ ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ

```text
curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/linux/amd64/kubectl
```

ë§Œì•½ ë§ˆì§€ë§‰ ë¦´ë¦¬ì¦ˆëœ stable ë²„ì „ì´ ì•„ë‹ˆë¼ íŠ¹ì • ë²„ì „ì„ ì„¤ì¹˜í•˜ê³  ì‹¶ì€ ê²½ìš°, íŠ¹ì • ë²„ì „\(v1.15.0\)ì„ ëª…ì‹œí•˜ì—¬ ë‹¤ìš´ë¡œë“œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```text
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.15.0/bin/linux/amd64/kubectl
```

ë‹¤ìš´ë¡œë“œ ë°›ì€ kubectl íŒŒì¼ì„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

```text
chmod +x ./kubectl
```

kubectl íŒŒì¼ì„ í™˜ê²½ë³€ìˆ˜ PATH ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```text
sudo mv ./kubectl /usr/local/bin/kubectl
```

#### íŒ¨í‚¤ì§€ ì„¤ì¹˜ë°©

ìœ„ ë°©ë²• ì™¸ì— Ubuntu ë˜ëŠ” Linux ì—ì„œ ì œê³µí•˜ëŠ” íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„¤ì¹˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

#### Ubuntu, Debian

```text
sudo apt-get update && sudo apt-get install -y apt-transport-https
curl -s https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -
echo "deb https://apt.kubernetes.io/ kubernetes-xenial main" | sudo tee -a /etc/apt/sources.list.d/kubernetes.list
sudo apt-get update
sudo apt-get install -y kubectl
```

#### CetnOS, RHEL or Fedora

```text
cat <<EOF > /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOF
yum install -y kubectl
```

#### Kubectl Version ì²´í¬

```text
kubectl version
```

### MacOS

#### 1. ìˆ˜ë™ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì„¤ì¹˜ë°©ë²•

MacOS ì—ì„œ kubectl ë°”ì´ë„ˆë¦¬ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì•„ì„œ ì„¤ì¹˜í•˜ëŠ” ë°©ë²•ì€ ìœ„ Linux í™˜ê²½ê³¼ ê±°ì˜ ë¹„ìŠ·í•©ë‹ˆë‹¤.

kubectl ë§ˆì§€ë§‰ ë¦´ë¥´ìŠ¤ ë°”ì´ë„ˆë¦¬ íŒŒì¼ ë‹¤ìš´ë¡œë“œ í•©ë‹ˆë‹¤.

```text
curl -LO https://storage.googleapis.com/kubernetes-release/release/$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt)/bin/darwin/amd64/kubectl
```

ë§Œì•½ ë§ˆì§€ë§‰ ë¦´ë¦¬ì¦ˆëœ stable ë²„ì „ì´ ì•„ë‹ˆë¼ íŠ¹ì • ë²„ì „ì„ ì„¤ì¹˜í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ MacOS\(Darwin\) ì—ì„œ ì§€ì›í•˜ëŠ” íŠ¹ì • ë²„ì „\(v1.15.0\)ì„ ëª…ì‹œí•˜ì—¬ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤

```text
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.15.0/bin/darwin/amd64/kubectl
```

ë‹¤ìš´ë¡œë“œ ë°›ì€ kubectl íŒŒì¼ì„ ì‹¤í–‰ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

```text
chmod +x ./kubectl
```

kubectl íŒŒì¼ì„ í™˜ê²½ë³€ìˆ˜ PATH ë¡œ ì´ë™í•©ë‹ˆë‹¤.

```text
sudo mv ./kubectl /usr/local/bin/kubectl
```

#### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜ë°©ë²•

MacOS íŒ¨í‚¤ì§€ ê´€ë¦¬ë„êµ¬ Homebrewë¥¼ í†µí•´ì„œë„ kubectl ì„¤ì¹˜ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. 1. kubectl íŒ¨ìºì§€ ì„¤ì¹˜

```text
brew install kubernetes-cli
```

#### 3. kubectl ë²„ì „ ì²´í¬

```text
kubectl version
```

### Window

#### 1. ìˆ˜ë™ íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì„¤ì¹˜ë°©ë²•

kubectl ë°”ì´ë„ˆë¦¬ íŒŒì¼ [ë‹¤ìš´ë¡œë“œ](https://storage.googleapis.com/kubernetes-release/release/v1.15.0/bin/windows/amd64/kubectl.exe) í•˜ê±°ë‚˜ curlì„ í†µí•´ exe ì„¤ì¹˜ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```text
curl -LO https://storage.googleapis.com/kubernetes-release/release/v1.18.12/bin/windows/amd64/kubectl.exe
```

#### 2. ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ ì„¤ì •

ìœˆë„ìš° ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ ì„¤ì •ì— ë‹¤ìš´ë¡œë“œ ë°›ì€ kubectl ìœ„ì¹˜ë¥¼ ì¶”ê°€í•˜ì—¬ ì„¤ì •í•˜ì—¬ ìœˆë„ìš° ì»¤ë§¨ë“œ í™˜ê²½ì—ì„œ kubectl ëª…ë ¹ì–´ ì‹¤í–‰ì´ ì–´ë””ì„œë“  ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •í•©ë‹ˆë‹¤.

#### 3. kubectl ë²„ì „ ì²´í¬

```text
kubectl version --client
```

## minikube ì‹œì‘í•˜ê¸°

ìœ„ ê³¼ì •ì„ í†µí•´ minikube ë¥¼ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜í–ˆë‹¤ë©´, minikube status ëª…ë ¹ì–´ë¥¼ í†µí•´ Kubernetes í´ëŸ¬ìŠ¤í„° ìƒíƒœë¥¼ ì²´í¬í•˜ê³ , ì¤‘ì§€ë˜ì–´ ìˆëŠ” ê²½ìš° ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´í›„ kubectl ëª…ë ¹ì–´ë¥¼ í†µí•´ í´ëŸ¬ìŠ¤í„°ì™€ ìƒí˜¸ í†µì‹ ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

Minikube ìƒíƒœ í™•ì¸

```text
minikube status

host: Stopped
kubelet:
apiserver:
kubeconfig
```

Minikube ì‹¤

```text
minikube start --vm-driver=virtualbox
```

Minikube ì‹¤í–‰í›„, ìƒíƒœ í™•ì¸

```text
minikube status

host: Running
kubelet: Running
apiserver: Running
kubeconfig: Configured
```

minikube ì‹¤í–‰í›„, kubectl cluster-info ëª…ë ¹ì–´ë¥¼ í†µí•´ minikube í´ëŸ¬ìŠ¤í„°ì— ëŒ€í•œ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ clusterì— ëŒ€í•œ ì •ë³´ê°€ ì •ìƒì ìœ¼ë¡œ ì¶œë ¥ì´ ë˜ì—ˆë‹¤ë©´ Istioë¥¼ ì„¤ì¹˜í•˜ê³  í…ŒìŠ¤íŠ¸ í•˜ê¸° ìœ„í•œ ê¸°ë³¸ì ì¸ êµ¬ì„±ì´ ì¤€ë¹„ë˜ì—ˆìŠµë‹ˆë‹¤.

```text
$ kubectl cluster-info

Kubernetes master is running at https://192.168.64.2:8443
KubeDNS is running at https://192.168.64.2:8443/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy
```

